{
  "workflow_name": "Build & Release Java App",
  "workflow_file": ".github/workflows/build-and-release.yml",
  "description": "Orchestrates JAR build, Windows installer creation, and release publishing",
  "defaults": {
    "java_version": "17",
    "java_distribution": "temurin",
    "gradle_task": "jar",
    "setup_script_pattern": "**/*.iss",
    "setup_script_fail_if_missing": true
  },
  "reusable_workflows": {
    "build_jar": {
      "path": ".github/workflows/build-jar.yml",
      "repo": "m-nikolovska-mak-system/reusable-actions-library",
      "ref": "main"
    },
    "detect_iss": {
      "path": ".github/workflows/detect-setup-script.yml",
      "repo": "m-nikolovska-mak-system/reusable-actions-library",
      "ref": "main"
    },
    "build_installer": {
      "path": ".github/workflows/build-installer.yml",
      "repo": "m-nikolovska-mak-system/reusable-actions-library",
      "ref": "main"
    },
    "upload_release": {
      "path": ".github/workflows/upload-release.yml",
      "repo": "m-nikolovska-mak-system/reusable-actions-library",
      "ref": "main"
    },
    "teams_notifier": {
      "path": ".github/workflows/teams-notifier.yml",
      "repo": "m-nikolovska-mak-system/reusable-actions-library",
      "ref": "main"
    }
  },
  "triggers": [
    {
      "type": "workflow_dispatch",
      "description": "Manual trigger with optional parameter overrides"
    },
    {
      "type": "release",
      "event_types": ["created"],
      "description": "Automatically triggered when a release is created"
    }
  ],
  "required_secrets": [
    "TEAMS_WEBHOOK_URL"
  ],
  "test_scenarios": [
    {
      "name": "Manual dispatch with defaults",
      "trigger": "workflow_dispatch",
      "inputs": {}
    },
    {
      "name": "Manual dispatch with custom Java version",
      "trigger": "workflow_dispatch",
      "inputs": {
        "java_version": "21",
        "java_distribution": "temurin"
      }
    },
    {
      "name": "Release trigger",
      "trigger": "release",
      "description": "Simulates GitHub release creation event"
    }
  ]
}
